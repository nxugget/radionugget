---
title: "Les syst√®mes de positionnement par satellites (GNSS)"
date: "2024-07-03"
summary: "Explorez les principes fondamentaux des syst√®mes de positionnement par satellites (GNSS) comme le GPS, et comprenez comment ils d√©terminent des positions g√©ographiques pr√©cises"
thumbnail: "/images/blog/thumbnail/gps.webp"
tags: ["space", "satellite"]
slug: "gps"
---
Le syst√®me de positionnement par satellites que l'on d√©signe par **GNSS** (**G**√©olocalisation et **N**avigation par un **S**yst√®me de **S**atellites) nous permet de d√©terminer des positions g√©ographiques pr√©cises n'importe o√π sur **Terre** üåç. 
On va aujourd'hui comprendre comment fonctionne tout √ßa, dans les grandes lignes parce que √ßa peut vite devenir compliqu√© :) 

# Introduction
Ce qu'on appelle **GPS** (**G**lobal **P**ositioning **S**ystem) n'est qu'un type de **GNSS** op√©r√© par les **√âtats-Unis** depuis les ann√©es 70. Mais il en existe d'autres, comme le [Galileo](https://fr.wikipedia.org/wiki/Galileo_(syst%C3%A8me_de_positionnement)) en **Europe**, le [GLONASS](https://fr.wikipedia.org/wiki/GLONASS) en **Russie** ou encore le [BeiDou](https://fr.wikipedia.org/wiki/Beidou) en **Chine**. 
Donc, quand on parle de *"GPS"*, on entend par l√† le terme g√©n√©rique **GNSS** quel qu'il soit.
Pour former une constellation **GNSS**, il faut une vingtaine de satellites qui orbitent autour de **la Terre** √† une altitude d'environ `20000km` sur l'<SmartLink slug="orbits">orbite terrestre moyenne</SmartLink>. 

![Schema GPS](/images/blog/2024/gps/gps4.svg)
Ces derniers √©mettent en permanence des **ondes radios** et comme on conna√Æt leur **position**, on peut gr√¢ce √† de la **triangulation** d√©terminer la distance entre le satellite et le r√©cepteur sur **Terre**. 
En principe, **3 satellites** pourraient suffire pour r√©cup√©rer une **latitude** et une **longitude**. En pratique, il en faut plut√¥t au minimum 4. Ce dernier permettant de corriger le **d√©calage d'horloge**. Mais on va voir tout √ßa apr√®s.

#  R√©f√©rentiel g√©ocentrique
Un r√©f√©rentiel, c'est simplement un point de vue. Le lieu d'o√π on observe les choses. Et quand il s'agit de faire des calculs li√©s au **GNSS**, on se base sur le r√©f√©rentiel **g√©ocentrique** üåê (ou **ECEF** en anglais).
Ce r√©f√©rentiel utilise le **centre de la Terre** comme point de r√©f√©rence.  
![Schema R√©f√©rentiel g√©ocentrique](/images/blog/2024/gps/gps1.svg)
Ce dernier se base sur un syst√®me dit **cart√©sien**, √ßa veut dire qu'il utilise **3 axes perpendiculaires** entre eux, nomm√©s **X**, **Y** et **Z** pour d√©finir la position des points. 
Ces coordonn√©es **(x,y,z)** permettant ainsi de localiser pr√©cis√©ment des points dans l'espace en fonction de leur distance par rapport au centre de **la Terre**.
Mais comme des positions **x,y,z** c'est pas trop parlant pour nous, on devra convertir ses donn√©es en **latitude** et **longitude** bien plus simple √† lire. 

#  Triangulation
Les horloges des satellites sont synchronis√©es sur la m√™me source qu'on appelle [le temps GPS](https://fr.wikipedia.org/wiki/Synchronisation_GPS). Quand notre r√©cepteur **GNSS**, (un t√©l√©phone portable pour l'exemple) re√ßoit les signaux d'au moins **4 satellites**, il peut calculer sa position. Pour cela, il doit mesurer **4 pseudo-distances**. 

## Pseudo-distances
On parle de *"pseudo"*, car cette distance n'inclut pas uniquement la vraie distance mais aussi des erreurs dues √† divers facteurs :
- Les **d√©calages d'horloge** car √† l'inverse d'une horloge embarqu√©e sur un satellite qui est tr√®s pr√©cise, celle d'un t√©l√©phone l'est beaucoup moins.
- Les **effets atmosph√©riques**, car le signal doit traverser diff√©rentes couches de l'atmosph√®re ce qui le ralentit.
- Les **multipaths**, car le signal peut rebondir sur diff√©rents obstacles comme des b√¢timents avant d'atteindre le t√©l√©phone.

![Schema d√©calage d'horloge](/images/blog/2024/gps/gps3.svg)
Bref, pour corriger tout √ßa, chaque satellite g√©n√®re un code al√©atoire afin d'√™tre identifi√© par le t√©l√©phone. Ce dernier g√©n√®re √† son tour un code identique au m√™me rythme que celui du satellite et compare ainsi le **d√©calage temporel** entre l'√©mission et la r√©ception du signal. Ce **d√©calage** est ainsi utilis√© dans la formule suivante : `P = c * Œît` avec `P` la **pseudo-distance** en `m`, `c` la **vitesse de la lumi√®re** en `m/s` et `Œît` le **d√©calage** en `s`.

## Coordonn√©es (x,y,z)
En r√©solvant une √©quation √† **4 inconnues**, on peut alors r√©cup√©rer les **coordonn√©es (x,y,z)** du t√©l√©phone sur **Terre** ainsi que le d√©calage de son horloge par rapport √† celles des satellites.
![Schema triangulation formules](/images/blog/2024/gps/gps2.svg)
Alors, c'est quoi ces belles √©quations. En fait, elles repr√©sentent la distance r√©elle entre les satellites et le t√©l√©phone en appliquant le th√©or√®me de **Pythagore** en **3 dimensions** avec `X`, `Y` et `Z` les coordonn√©es du **satellite** et `U` les coordonn√©es du t√©l√©phone que l'on recherche donc. 
Puis on additionne l'erreur d√ª au d√©calage de l'horloge not√©e `c` qui est donc la diff√©rence de temps entre les 2 horloges. 
On va pas rentrer dans les d√©tails de comment r√©soudre ces √©quations, c'est trop complexe pour moi, mais il y a 2 m√©thodes principales pour le faire ([La m√©thode des moindres carr√©s](https://fr.wikipedia.org/wiki/M%C3%A9thode_des_moindres_carr%C3%A9s) et [le filtre de Kalman](https://fr.wikipedia.org/wiki/Filtre_de_Kalman)). Si vous √™tes curieux, vous pouvez y jeter un oeil ,) 
Bref, une fois qu'on a r√©solut tout √ßa, on obtient les coordonn√©es **(x,y,z)** de `U`. 

## Latitude et Longitude
Bon, nous, on veut savoir exactement o√π on est sur **Terre** pour trouver notre route, et les **x,y,z**, √ßa nous arrange pas. Heureusement pour nous, on peut les convertir en **latitude** et **longitude**. 
D√©j√†, faut comprendre que les coordonn√©es √† base de **latitude** et **longitude** se base sur une **approximation ellipso√Ødale** de **la Terre**. En soit c'est logique, on veut convertir des trucs **3D** en des trucs en **2D**, sur une carte quoi. Et le meilleur moyen de repr√©senter notre plan√®te bleue qui est plus ou moins une boule, c'est en utilisant une **ellipso√Øde de r√©f√©rence** qui est d√©finie par le mod√®le math√©matique [WGS 84](https://en.wikipedia.org/wiki/World_Geodetic_System#WGS_84).
Pareil, on va pas rentrer dans les d√©tails, j'ai mis la page [Wikip√©dia](https://en.wikipedia.org/wiki/World_Geodetic_System#WGS_84) pour les curieux mais c'est avec un peu de **trigonom√©trie** que la conversion se passe. 
Et voil√†, on est capable de se positionner sur une carte üó∫Ô∏è ! On pourrait m√™me aller plus loin pour conna√Ætre notre **altitude** mais √ßa se complexifie encore plus donc on laisse √ßa de c√¥t√© pour le moment :)